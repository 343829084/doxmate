<ul class="nav nav-list bs-docs-sidenav affix">
<% for (var key in apis) { %>
  <li>
  <div class="accordion" id="<%=key%>">
    <div class="accordion-group">
      <div class="accordion-heading">
        <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#<%=key%>" href="#collapse_<%=key%>">
          <div id="collapse_marker_<%=key%>" style="margin-left: 5px; margin-righ: 5px; display: inline-block;">▷</div>
        </a>
        <a href="#api_<%=key%>"><i class="icon-chevron-right"></i><%=key%></a>
      </div>
      <div class="accordion-body collapse" id="collapse_<%=key%>">
        <div class="accordion-inner">
        <ul class="indexs">
        <%
          var comments = apis[key].comments;
          var indexs = comments.filter(function (item) {
            return !item.ignore && item.ctx;
          }).map(function (item) {
            return item.ctx;
          }).forEach(function (item) {
            item.receiver = item.receiver || '';
          %>
          <li>
            <a href="#<%= key + '_' + item.receiver + '_' + item.name%>"><%= item.name%></a>
          </li>
        <% }); %>
        </ul>
        </div>
      </div>
    </div>
  </div>
  </li>
  
  <script type="text/javascript">
    $('#collapse_marker_<%=key%>').on('click', function() {
       if($('.accordion-toggle').hasClass('collapsed')) {
         $('#collapse_marker_<%=key%>').text('▽');
       } else {
         $('#collapse_marker_<%=key%>').text('▷');
       }
    });
  </script>
<% } %>
</ul>
